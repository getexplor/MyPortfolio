
@{
    ViewBag.Title = "Profile";
}

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>Profile</h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="/Dashboards">Dashboard</a>
            </li>
            <li class="breadcrumb-item active">
                <strong>Profile</strong>
            </li>
        </ol>
    </div>
</div>
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row ">
        @Html.Partial("CardProfile")
        @Html.Partial("CardUpdateProfile")
    </div>
</div>

<script src="~/Scripts/jquery-3.5.1.min.js"></script>
<script src="~/Scripts/bootstrap.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>


@section Scripts{
    <script type="text/javascript">
        $('.custom-file-input').on('change', function () {
            let fileName = $(this).val().split('\\').pop();
            $(this).next('.custom-file-label').addClass("selected").html(fileName);

        });

        $(document).ready(function(){
            $("#btnUpdateImage").click(function () {
                var file = $("#image_upload").get(0).files;
                var id = $("#id").val();

                var data = new FormData();
                data.append("image_upload", file[0]);
                data.append("id", id);
                console.log(data);

                $.ajax({
                    type: "PUT",
                    url: "/api/profile/updateimage",
                    data: data,
                    contentType: false,
                    processData: false,
                });
            });
        });

    </script>
}